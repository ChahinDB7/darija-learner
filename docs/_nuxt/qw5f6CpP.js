import{_ as k,H as N,a as j,T as P,b as V}from"./EAoRHt6t.js";import{f as z,_ as y,o as r,c as p,a as n,b as d,n as f,g as b,v as G,h as O,i as x,d as m,t as _,r as B,j as g,k as S,u as J,s as K,l as Q,m as W,w as u,q as F,F as q,x as T,p as X,e as Y}from"./DY6lgNKQ.js";import{_ as Z}from"./CjjDkIpG.js";import{d as D}from"./BoO1yoxs.js";import"./C2Q4VJJZ.js";var E=/[\\^$.*+?()[\]{}|]/g,$=RegExp(E.source);function ee(e){return e=z(e),e&&$.test(e)?e.replace(E,"\\$&"):e}const se={name:"SearchBar",props:{value:{type:String,required:!0},disabled:{type:Boolean,default:!1,required:!1}},data(){return{search:this.value}},watch:{value(e,s){e!==s&&this.checked!==e&&(this.search=e)}},methods:{openSearch(){this.$refs.search.focus()},inputChange(e){const s=e.target.value;this.$emit("update:value",s),this.$emit("input",s)}}};function ne(e,s,a,l,t,i){const v=k;return r(),p("div",{class:"search-box",onClick:s[2]||(s[2]=(...c)=>i.openSearch&&i.openSearch(...c))},[n("button",{class:f(["btn-search",{"has-search":t.search.length>0}])},[d(v,{name:"search"})],2),b(n("input",{ref:"search","onUpdate:modelValue":s[0]||(s[0]=c=>t.search=c),type:"text",class:f(["input-search no-css",{"has-search":t.search.length>0}]),placeholder:"Search",onInput:s[1]||(s[1]=c=>i.inputChange(c))},null,34),[[G,t.search]])])}const te=y(se,[["render",ne],["__scopeId","data-v-08f1a39e"]]),oe={name:"AccordionPanel",props:{value:{type:Boolean,required:!1,default:null},title:{type:String,required:!1,default:null},showScrollbar:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!1},hideChevron:{type:Boolean,required:!1,default:!1}},data(){return{id:this.generateRandomId(),debouncedToggle:D(this.toggle,50),open:this.expanded}},watch:{value(e,s){e!==s&&(this.open=e)},open:{handler(e,s){s!==e&&this.$emit("collapsed",e)}}},methods:{toggle(){this.open=!this.open},generateRandomId(){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let s="";for(let a=0;a<5;a++){const l=Math.floor(Math.random()*e.length);s+=e.charAt(l)}return s}}},ae={class:"c"},le=["id"],re={class:"header no-select"},ce={class:"content"};function ie(e,s,a,l,t,i){const v=k;return r(),p("div",{class:f(["panel",{"has-scroll":a.showScrollbar}])},[n("div",ae,[b(n("input",{id:t.id,"onUpdate:modelValue":s[0]||(s[0]=c=>t.open=c),type:"checkbox"},null,8,le),[[O,t.open]]),n("div",re,[n("label",{onClick:s[2]||(s[2]=x(c=>t.open=!t.open,["self"]))},[n("span",{class:"title",onClick:s[1]||(s[1]=x(c=>t.open=!t.open,["self"]))},[m(_(a.title)+" ",1),B(e.$slots,"header",{toggle:t.debouncedToggle,open:t.open},void 0,!0)]),a.hideChevron?S("",!0):(r(),g(v,{key:0,name:"chevron-down",class:f(["chevron",{up:t.open}])},null,8,["class"]))])]),n("div",{class:f(["p is-thumb",{"has-scroll":a.showScrollbar}])},[n("div",ce,[B(e.$slots,"default",{},void 0,!0)])],2)])],2)}const de=y(oe,[["render",ie],["__scopeId","data-v-5b048ef5"]]),he={name:"Learning",setup(){const e=J(),{loading:s,allData:a,arabic:l}=K(e);return{loading:s,allData:a,arabic:l,toggleFavorite:i=>{e.setFavorite(i)}}},data(){return{debouncedSearch:D(this.doSearch,1e3),search:"",searchResults:[]}},watch:{search(e,s){e!==s&&this.debouncedSearch()}},methods:{isFavorited(e){return e.favorite},doSearch(){if(this.search===""){this.searchResults=[];return}const e=this.allData,s=new RegExp(ee(this.search),"i");this.searchResults=Q(e,a=>s.test(a.title)||s.test(a.english)||s.test(a.arabic))}}},ue=e=>(X("data-v-c3344986"),e=e(),Y(),e),pe={class:"body"},_e={class:"title"},fe=ue(()=>n("span",null,"Learning Darija",-1)),ve=["onClick"],me={class:"title"},ge={class:"actions"},be={class:"words is-thumb"},xe={class:""},Se={class:"gold"},ke={key:1,class:"search-result is-thumb"},ye={class:""},Ce={class:"gold"};function Ie(e,s,a,l,t,i){const v=P,c=N,M=te,L=V,C=k,I=Z,U=de,A=W("masonry-wall"),H=j;return r(),p("div",{class:f(["content container",{loaded:!l.loading}])},[d(c,null,{default:u(()=>[d(v,null,{default:u(()=>[m("Learning Darija")]),_:1})]),_:1}),n("div",pe,[n("h2",_e,[fe,d(M,{value:t.search,"onUpdate:value":s[0]||(s[0]=o=>t.search=o),disabled:l.loading},null,8,["value","disabled"])]),l.loading?(r(),g(L,{key:0,message:"Getting data...","dark-mode":!0})):S("",!0),d(H,null,{default:u(()=>[!l.loading&&t.searchResults.length<=0?(r(),g(A,{key:0,items:l.arabic,"min-columns":1,"max-columns":2,"scroll-container":!0,"column-width":400,gap:40,class:"board"},{default:u(({item:o})=>[(r(),p("div",{key:e.index,class:f(["card-container",{sentences:o.hasSentences}])},[d(U,{value:o.open,"onUpdate:value":h=>o.open=h,class:"card-item",expanded:i.isFavorited(o)},{header:u(({toggle:h,open:R})=>[n("div",{class:"title-box",onClick:w=>h()},[n("div",me,_(o.title),1),n("div",ge,[n("span",null,"("+_(o.data.length)+")",1),n("span",null,[b(d(C,{name:"heart-filled",class:"favorite-icon",onClick:x(w=>l.toggleFavorite(o),["stop"])},null,8,["onClick"]),[[F,i.isFavorited(o)]]),b(d(C,{class:"favorite-icon",name:"empty-heart",onClick:x(w=>l.toggleFavorite(o),["stop"])},null,8,["onClick"]),[[F,!i.isFavorited(o)]])])])],8,ve)]),default:u(()=>[d(I,{class:"no-underline",to:`/learning/${o.lession}`},{default:u(()=>[n("div",be,[(r(!0),p(q,null,T(o.data,(h,R)=>(r(),p("div",{key:R},[n("span",xe,_(h.english),1),m(": "),n("span",Se,_(h.arabic),1)]))),128))])]),_:2},1032,["to"])]),_:2},1032,["value","onUpdate:value","expanded"])],2))]),_:1},8,["items"])):l.loading?S("",!0):(r(),p("div",ke,[(r(!0),p(q,null,T(t.searchResults,(o,h)=>(r(),g(I,{key:h,to:`/learning/${o.lession}`,class:"card-item"},{default:u(()=>[n("span",ye,_(o.english),1),m(": "),n("span",Ce,_(o.arabic),1)]),_:2},1032,["to"]))),128))]))]),_:1})])],2)}const Te=y(he,[["render",Ie],["__scopeId","data-v-c3344986"]]);export{Te as default};
